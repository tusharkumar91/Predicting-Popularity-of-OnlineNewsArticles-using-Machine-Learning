'''
Created on Sep 27, 2018
Sample Program to show calculation of Row Utility in
Ultimate TicTacToe
@author: tusharkumar
'''
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

if __name__ == '__main__':
    lossEntire = [3252.3232421875, 1287.095458984375, 364.12371826171875, 162.69183349609375, 90.19310760498047, 81.20062255859375, 56.9687385559082, 63.85383987426758, 106.53751373291016, 98.37644958496094, 38.94451141357422, 47.223602294921875, 116.90811157226562, 29.258338928222656, 28.784921646118164, 78.40003204345703, 57.88799285888672, 43.512813568115234, 43.841487884521484, 95.28836059570312, 16.01377296447754, 14.970176696777344, 14.592150688171387, 14.214092254638672, 13.894292831420898, 13.620752334594727, 13.352679252624512, 13.101978302001953, 12.868865013122559, 12.613231658935547, 12.42253589630127, 12.223101615905762, 12.07276725769043, 11.958431243896484, 11.621384620666504, 11.310291290283203, 10.982231140136719, 10.81480598449707, 10.58840274810791, 10.379571914672852, 10.259443283081055, 10.121391296386719, 9.722360610961914, 9.561223030090332, 9.12246322631836, 8.919049263000488, 8.841986656188965, 8.472978591918945, 8.049242973327637, 7.731861114501953, 7.418060779571533, 7.060286045074463, 6.843917369842529, 6.530523777008057, 7.089488506317139, 5.950169086456299, 6.003847599029541, 6.7160115242004395, 6.687019348144531, 6.047079563140869, 4.93010950088501, 4.415839195251465, 7.446080684661865, 18.330665588378906, 14.25556468963623, 6.250016212463379, 3.980206251144409, 3.690781831741333, 6.320542335510254, 30.907350540161133, 3.7824912071228027, 3.270153284072876, 6.909639835357666, 4.062853813171387, 3.109767198562622, 2.7640035152435303, 8.691487312316895, 8.172374725341797, 9.630278587341309, 4.500253677368164, 4.013487339019775, 2.6072680950164795, 2.558109760284424, 2.5143330097198486, 2.477163791656494, 2.443349838256836, 2.4117796421051025, 2.382017135620117, 2.3537940979003906, 2.327397346496582, 2.302546501159668, 2.278155565261841, 2.254284381866455, 2.230872392654419, 2.2075605392456055, 2.1843864917755127, 2.1609504222869873, 2.1375532150268555, 2.1135880947113037, 2.088132858276367]

    accuracyEntire = [52.98865069356873, 55.01891551071879, 57.364438839848674, 58.54981084489281, 58.47414880201765, 52.58511979823455, 51.29886506935687, 55.75031525851198, 51.86633039092055, 53.60655737704918, 49.6469104665826, 56.7843631778058, 49.68474148802018, 49.78562421185372, 56.015132408575035, 55.914249684741485, 49.69735182849937, 54.51450189155107, 56.50693568726356, 54.388398486759144, 58.0453972257251, 59.066834804539724, 59.09205548549811, 59.1046658259773, 59.09205548549811, 59.01639344262295, 59.02900378310214, 59.04161412358134, 58.83984867591425, 58.915510718789406, 58.3858764186633, 58.44892812105927, 58.48675914249685, 58.423707440100884, 58.77679697351829, 58.81462799495586, 59.155107187894075, 59.19293820933165, 59.12988650693569, 58.87767969735183, 58.54981084489281, 57.704918032786885, 56.84741488020177, 56.99873896595208, 58.54981084489281, 58.54981084489281, 58.96595208070618, 59.1046658259773, 58.423707440100884, 59.53341740226986, 59.4577553593947, 59.218158890290034, 59.50819672131148, 59.495586380832286, 59.319041614123584, 57.66708701134931, 59.4577553593947, 57.80580075662043, 56.82219419924338, 55.939470365699876, 55.24590163934426, 59.76040353089533, 59.68474148802018, 53.64438839848676, 51.92938209331652, 59.78562421185372, 60.1765447667087, 58.13366960907945, 55.06935687263556, 51.31147540983606, 59.722572509457756, 50.12610340479193, 56.557377049180324, 59.52080706179067, 59.77301387137453, 56.77175283732661, 54.50189155107188, 56.31778058007566, 49.69735182849937, 52.33291298865069, 51.51324085750315, 60.87011349306431, 60.46658259773014, 60.592686002522065, 60.63051702395965, 60.529634300126105, 60.617906683480456, 60.70617906683481, 60.592686002522065, 60.5422446406053, 60.65573770491803, 60.58007566204287, 60.453972257250946, 60.441361916771754, 60.46658259773014, 60.47919293820933, 60.529634300126105, 60.56746532156368, 60.529634300126105, 60.529634300126105]

    epochs = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 142, 144, 146, 148, 150, 152, 154, 156, 158, 160, 162, 164, 166, 168, 170, 172, 174, 176, 178, 180, 182, 184, 186, 188, 190, 192, 194, 196, 198]

    lossRelevant = [107.3350830078125, 68.37068939208984, 31.086606979370117, 2.1948957443237305, 0.6681652069091797, 0.6485992670059204, 0.6491413712501526, 0.6490808129310608, 0.6480740308761597, 0.6475494503974915, 0.6471810340881348, 0.6469298005104065, 0.6467706561088562, 0.6466522216796875, 0.6465895771980286, 0.6465340852737427, 0.6465273499488831, 0.6465048789978027, 0.6464990377426147, 0.6464818120002747, 0.6464570164680481, 0.64642733335495, 0.6463731527328491, 0.6463243365287781, 0.6462668180465698, 0.646173357963562, 0.646081805229187, 0.6459383368492126, 0.6458181142807007, 0.6456857919692993, 0.6455545425415039, 0.6454182267189026, 0.6452744007110596, 0.6451423168182373, 0.6450212597846985, 0.6449017524719238, 0.6448205709457397, 0.6447288990020752, 0.6446473598480225, 0.6445844769477844, 0.6445391178131104, 0.6444958448410034, 0.6444477438926697, 0.6444219946861267, 0.6443869471549988, 0.6443507075309753, 0.6443433165550232, 0.644317090511322, 0.6443014144897461, 0.6442821025848389, 0.6442859768867493, 0.6442676186561584, 0.6442669630050659, 0.647425651550293, 0.645664393901825, 0.6457732915878296, 0.6457639932632446, 0.6457337737083435, 0.6456975936889648, 0.642405092716217, 0.6424720287322998, 0.6424676775932312, 0.6424686312675476, 0.6424685120582581, 0.6424691081047058, 0.6424537301063538, 0.6424568891525269, 0.6424559354782104, 0.6424552202224731, 0.6424546837806702, 0.6424517631530762, 0.6424517631530762, 0.6424517631530762, 0.6424516439437866, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424515247344971, 0.6424516439437866, 0.6424516439437866, 0.6424516439437866]

    accuracyRelevant = [49.470365699873895, 48.86506935687264, 48.95334174022699, 52.26986128625473, 56.69609079445145, 62.3203026481715, 62.74905422446406, 62.34552332912989, 62.3203026481715, 62.35813366960908, 62.37074401008827, 62.34552332912989, 62.42118537200504, 62.295081967213115, 62.28247162673392, 62.34552332912989, 62.34552332912989, 62.18158890290038, 62.24464060529634, 62.25725094577554, 62.16897856242119, 62.18158890290038, 62.23203026481715, 62.16897856242119, 62.16897856242119, 62.068095838587645, 62.16897856242119, 62.23203026481715, 62.219419924337956, 62.28247162673392, 62.3203026481715, 62.24464060529634, 62.23203026481715, 62.30769230769231, 62.35813366960908, 62.37074401008827, 62.40857503152585, 62.459016393442624, 62.58511979823455, 62.55989911727617, 62.64817150063052, 62.635561160151326, 62.66078184110971, 62.635561160151326, 62.686002522068094, 62.711223203026485, 62.66078184110971, 62.66078184110971, 62.64817150063052, 62.698612862547286, 62.6733921815889, 62.686002522068094, 62.72383354350568, 63.53089533417402, 63.95964691046658, 63.94703656998739, 63.896595208070615, 63.896595208070615, 63.95964691046658, 64.70365699873896, 64.59016393442623, 64.59016393442623, 64.61538461538461, 64.60277427490543, 64.61538461538461, 64.62799495586381, 64.640605296343, 64.640605296343, 64.640605296343, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381, 64.62799495586381]

    accuracy_map = {5: 59.98738965952081, 6: 61.967213114754095, 7: 62.295081967213115, 8: 62.25725094577554,
                    9: 62.547288776796975,
                    10: 62.849936948297604, 11: 62.34552332912989, 12: 62.74905422446406, 13: 62.3203026481715,
                    14: 50.58007566204287, 15: 50.668348045397224, 16: 50.73139974779319, 17: 50.99621689785624,
                    18: 51.02143757881463,
                    19: 50.98360655737705, 20: 50.97099621689786,
                    21: 52.98865069356873,
                    22: 53.46784363177806,
                    23: 54.716267339218156, 24: 55.06935687263556, 25: 54.073139974779316, 26: 53.94703656998739,
                    27: 54.18663303909206, 28: 52.76166456494325,
                    29: 54.9936948297604, 30: 54.35056746532156, 31: 54.77931904161412, 32: 54.75409836065574,
                    33: 55.09457755359395,
                    34: 54.90542244640605,
                    35: 55.54854981084489, 36: 55.30895334174023,
                    37: 58.587641866330394, 38: 58.46153846153846, 39: 58.348045397225725, 40: 58.3984867591425,
                    41: 58.61286254728878,
                    42: 58.575031525851195, 43: 58.511979823455235, 44: 58.562421185372, 45: 58.49936948297604,
                    46: 58.49936948297604,
                    47: 58.53720050441362, 48: 58.63808322824716, 49: 58.54981084489281, 50: 58.587641866330394,
                    51: 58.575031525851195, 52: 58.65069356872635, 53: 58.738965952080704, 54: 58.31021437578815,
                    55: 58.94073139974779, 56: 58.3858764186633, 57: 58.663303909205545, 58: 58.511979823455235,
                    59: 58.63808322824716}
    accuracyx = []
    accuracy = []
    for k,v in accuracy_map.items():
        accuracyx.append(k-1)
        accuracy.append(v)
    randomforestacc = [54.47780020181635, 64.19021190716448, 65.43895055499496, 65.26236125126135, 65.46417759838546, 65.61553985872855,
     65.76690211907164, 65.66599394550958, 65.75428859737639, 65.95610494450051, 65.67860746720484, 65.84258324924319,
     65.93087790110998, 65.81735620585268, 65.94349142280524, 65.90565085771948, 65.90565085771948, 65.7795156407669,
     65.84258324924319, 65.89303733602422]
    randomforestx = [1, 50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950]
    plt.plot(randomforestx, randomforestacc)
    plt.grid(color='gray', linestyle='-', linewidth=0.1)
    plt.xlabel("Number of Estimators")
    plt.ylabel("Accuracy")
    plt.show()

    exit(0)

    f, (ax1) = plt.subplots(nrows=1, ncols=2, gridspec_kw={"wspace": 0.4, "hspace": 0.2})

    ax1[0].plot(epochs[2:50], lossEntire[2:50], label="All attributes", linewidth=1, linestyle='-');
    ax1[0].plot(epochs[2:50], lossRelevant[2:50], label="Relevant attributes", linewidth=1, linestyle='-');
    ax1[1].plot(epochs, accuracyEntire, label="Accuracy with all attributes", linewidth=1, linestyle='-');
    ax1[1].plot(epochs, accuracyRelevant, label="Accuracy with relevant attributes", linewidth=1, linestyle='-');
    # plt.plot(XNodeCount, YEnumNodeLogTime, label="Enumeration Method", linewidth=1, linestyle='-');

    # plt.plot(XRare, YRejectionRare, label="Rejection Sampling", linewidth=1, linestyle='-');
    # plt.plot(XRare, YlikelihoodRare, label="Likelihood Weighting", linewidth=1, linestyle='-');
    # plt.plot(XRare, YGibbsRare, label="Gibbs Sampling", linewidth=1, linestyle='-');

    # plt.plot(X, YGibbs, label="Enumeration");
    ax1[0].grid(color='gray', linestyle='-', linewidth=0.1)
    ax1[1].grid(color='gray', linestyle='-', linewidth=0.1)
    ax1[0].legend(frameon=False)
    ax1[0].set_ylabel("Loss")
    ax1[1].set_ylabel("Accuracy")
    ax1[0].set_xlabel("Epochs")
    ax1[1].set_xlabel("Epochs")



    #plt.ylabel("Loss")
    #plt.xlabel("Epochs")
    plt.show()


plt.show()
